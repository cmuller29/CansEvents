@using CansInnov.Application.Features.Ateliers.Dtos;
@using CansInnov.Client.Models;

<RadzenTemplateForm Data="@Atelier" Submit="@((AtelierDto args) => { Submit(args); })">
    <RadzenStack Gap="1rem">
        <RadzenRow AlignItems="AlignItems.Center" class="mb-2">
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenLabel Text="Titre *" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="8">
                <RadzenTextBox Style="width: 100%; display: block" Name="Titre" @bind-Value="Atelier.Titre" />
                <RadzenRequiredValidator Component="Titre" Text="Un titre est requis" Popup=false Style="position: absolute" />
            </RadzenColumn>
        </RadzenRow>
        <RadzenRow AlignItems="AlignItems.Center" class="mb-2">
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenLabel Text="Description *" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="8">
                <RadzenTextBox Style="width: 100%; display: block" Name="Description" @bind-Value="Atelier.Description" />
                <RadzenRequiredValidator Component="Description" Text="Une description est requise" Popup=false Style="position: absolute" />
            </RadzenColumn>
        </RadzenRow>
        <RadzenRow AlignItems="AlignItems.Center" class="mb-2">
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenLabel Text="Visuel" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="8">
                <RadzenDropDown Style="width: 100%; display: block" Name="Type" @bind-Value="Atelier.Type" Data="@(Enum.GetValues(typeof(TypeAtelier)).Cast<Enum>())" />
                <RadzenRequiredValidator Component="Type" Text="Le type d'atelier est requis" Popup=false Style="position: absolute" />
            </RadzenColumn>
        </RadzenRow>
        <RadzenRow AlignItems="AlignItems.Center" class="mb-2">
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenLabel Text="Intervenant *" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="8">
                <RadzenTextBox Style="width: 100%; display: block" Name="NomIntervenant" @bind-Value="Atelier.NomIntervenant" />
                <RadzenRequiredValidator Component="NomIntervenant" Text="Un intervenant est requise" Popup=false Style="position: absolute" />
            </RadzenColumn>
        </RadzenRow>
        <RadzenRow AlignItems="AlignItems.Center" class="mb-2">
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenLabel Text="Lieu *" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="8">
                <RadzenTextBox Style="width: 100%; display: block" Name="Lieu" @bind-Value="Atelier.Lieu" />
                <RadzenRequiredValidator Component="Lieu" Text="Une localisation est requise" Popup=false Style="position: absolute" />
            </RadzenColumn>
        </RadzenRow>
        <RadzenRow AlignItems="AlignItems.Center" class="mb-2">
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenLabel Text="Lien" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="8">
                <RadzenTextBox Style="width: 100%; display: block" Name="LienReunion" @bind-Value="Atelier.LienReunion" />
            </RadzenColumn>
        </RadzenRow>
        <RadzenRow AlignItems="AlignItems.Center" class="mb-2">
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenLabel Text="Nb Participants max *" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="8">
                <RadzenNumeric Style="width: 100%; display: block" Name="NbParticipantMax" @bind-Value="Atelier.NbParticipantMax" />
                <RadzenRequiredValidator Component="NbParticipantMax" Text="Un nombre maximum de participant est requis" Popup=false Style="position: absolute" />
            </RadzenColumn>
        </RadzenRow>
        <RadzenRow AlignItems="AlignItems.Center" class="mb-2">
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenLabel Text="Date début *" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="8">
                <RadzenDatePicker Style="width: 100%; display: block" Name="DateDebut" TValue="DateTime" @bind-Value="Atelier.DateDebut" ShowTime="true" />
                <RadzenRequiredValidator Component="DateDebut" Text="Une date de début est requise" Popup=false Style="position: absolute" />
            </RadzenColumn>
        </RadzenRow>
        <RadzenRow AlignItems="AlignItems.Center" class="mb-2">
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenLabel Text="Date fin *" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="8">
                <RadzenDatePicker Style="width: 100%; display: block" Name="DateFin" TValue="DateTime" @bind-Value="Atelier.DateFin" ShowTime="true" />
                <RadzenRequiredValidator Component="DateFin" Text="Une date de fin est requise" Popup=false Style="position: absolute" />
            </RadzenColumn>
        </RadzenRow>
        <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Center" Gap="1rem" Class="rz-mt-8 rz-mb-4">
            <RadzenButton ButtonType="ButtonType.Button" Size="ButtonSize.Large" Icon="supervisor_account" Text="S'inscrire"
                          Click="@Subscribe" Disabled=@SubscribeDisabled />
            <RadzenButton ButtonType="ButtonType.Submit" Size="ButtonSize.Large" Icon="save" Text="Save" />
            <RadzenButton ButtonStyle="ButtonStyle.Light" Variant="Variant.Flat" Size="ButtonSize.Large" Icon="cancel" Text="Cancel" Click="@Cancel" />
            <RadzenButton ButtonStyle="ButtonStyle.Light" Variant="Variant.Flat" Size="ButtonSize.Large" Icon="delete_forever"
                          Click="@Delete" Disabled="@DeleteButtonDisabled" />
        </RadzenStack>
    </RadzenStack>
</RadzenTemplateForm>   
